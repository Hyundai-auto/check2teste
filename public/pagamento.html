<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento PIX - Confirma√ß√£o</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <div class="header-title">
                    <div class="logo-badge">üõ°Ô∏è</div>
                    <div>
                        <h1>Checkout Seguro</h1>
                        <p>Transa√ß√£o 100% Criptografada</p>
                    </div>
                </div>
                <div class="security-badge">
                    <span>‚ö°</span>
                    <span>Pagamento Seguro</span>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-step inactive" id="step1">
                    <div class="progress-number">1</div>
                    <span class="progress-label">Dados Pessoais</span>
                </div>
                <div class="progress-line active" id="line1"></div>
                <div class="progress-step active" id="step2">
                    <div class="progress-number">2</div>
                    <span class="progress-label">Pagamento</span>
                </div>
                <div class="progress-line" id="line2"></div>
                <div class="progress-step" id="step3">
                    <div class="progress-number">3</div>
                    <span class="progress-label">Confirma√ß√£o</span>
                </div>
            </div>
        </div>

        <div class="content" id="pixSection">
            <div class="card form-card">
                <div class="card-header">
                    <h2 class="card-title">Pagamento via Pix</h2>
                    <p class="card-subtitle">Escaneie o QR Code ou copie a chave Pix abaixo</p>
                </div>

                <div class="pix-container-card">
                    <div class="pix-qr">
                        <div class="pix-qr-text">Escaneie o c√≥digo QR com seu banco</div>
                        <div id="qrcodeContainer" class="qr-code">
                            <!-- QR Code ser√° inserido aqui pelo JS -->
                            <canvas id="pix-qr-canvas"></canvas>
                        </div>
                        <div class="summary-total" style="margin-top: 1rem;">
                            <span class="summary-total-label">Valor:</span>
                            <span class="summary-total-value" style="font-size: 1.5rem;">R$ 43,67</span>
                        </div>
                        <p style="color: var(--error-red); font-size: 0.875rem; margin-top: 0.5rem;">
                            Expira em: <span id="pixTimer">15:00</span>
                        </p>
                    </div>

                    <div class="pix-key-section">
                        <div class="pix-key-label">Ou copie a chave Pix:</div>
                        <div class="pix-key-input-group">
                            <input type="text" class="pix-key-input" id="pixCode" value="00020126580014BR.GOV.BCB.PIX01361234567890123456789012345678901234520400005303986540543.675802BR5925NOME DO RECEBEDOR LTDA6008BRASILIA62070503***6304C74C" readonly>
                            <button type="button" class="btn btn-copy" id="copyBtn" onclick="copyPixCode()">üìã Copiar</button>
                        </div>
                    </div>
                </div>

                <div class="alert alert-success">
                    <div class="alert-icon">‚úì</div>
                    <div class="alert-text"><strong>Transa√ß√£o Segura:</strong> O Pix foi desenvolvido pelo Banco Central para facilitar suas compras com aprova√ß√£o imediata.</div>
                </div>

                <button type="button" class="btn btn-success" id="confirmPaymentBtn" onclick="goToSuccessScreen()">Confirmar Pagamento</button>
                <button type="button" class="btn btn-secondary" id="backBtn" onclick="backToForm()">Voltar</button>
            </div>

            <div class="card summary-card">
                <div class="card-header">
                    <h3 class="card-title">Resumo do Pagamento</h3>
                    <p class="card-subtitle">Valor a pagar</p>
                </div>

                <div class="summary-item">
                    <div class="summary-label">Servi√ßo</div>
                    <div class="summary-value">Nome do Produto ou Servi√ßo</div>
                </div>

                <div class="summary-divider">
                    <div class="summary-total">
                        <span class="summary-total-label">Total</span>
                        <span class="summary-total-value" style="color: var(--success-green-light);">R$ 43,67</span>
                    </div>
                </div>

                <div class="security-features">
                    <div class="security-feature">
                        <div class="security-icon">‚ö°</div>
                        <div>
                            <div class="security-text-title">Aprova√ß√£o Imediata</div>
                            <div class="security-text-desc">Seu acesso ser√° liberado em poucos segundos.</div>
                        </div>
                    </div>
                    <div class="security-feature">
                        <div class="security-icon">üîí</div>
                        <div>
                            <div class="security-text-title">Transa√ß√£o Segura</div>
                            <div class="security-text-desc">Processado com criptografia de ponta.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tela de Sucesso (Opcional, para simular a transi√ß√£o) -->
    <div class="container hidden" id="successSection">
        <div class="card">
            <div class="success-container">
                <div class="success-icon">‚úì</div>
                <h2 class="success-title">Pagamento Realizado!</h2>
                <p class="success-subtitle">Seu pagamento foi processado com sucesso</p>

                <div class="success-details">
                    <div class="success-details-grid">
                        <div class="detail-item">
                            <div class="detail-label">Nome</div>
                            <div class="detail-value" id="successName">Nome do Cliente</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">E-mail</div>
                            <div class="detail-value" id="successEmail">email@exemplo.com</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">CPF</div>
                            <div class="detail-value" id="successCPF">000.000.000-00</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Telefone</div>
                            <div class="detail-value" id="successPhone">(00) 00000-0000</div>
                        </div>
                    </div>
                    <div class="success-amount">
                        <div class="success-amount-label">Valor Pago</div>
                        <div class="success-amount-value">R$ 43,67</div>
                    </div>
                </div>

                <div class="alert alert-info">
                    <div class="alert-icon">‚úì</div>
                    <div class="alert-text">Um comprovante foi enviado para <strong id="successEmailAlert">email@exemplo.com</strong></div>
                </div>

                <button type="button" class="btn btn-primary" onclick="window.location.href='index.html'">Voltar ao In√≠cio</button>

                <div class="footer-text">
                    <p>Transa√ß√£o segura e garantida.</p>
                    <p class="footer-text-small" id="transactionId">ID da Transa√ß√£o: #GOV-123456789</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script>
        // Fun√ß√µes de simula√ß√£o para manter a compatibilidade com o HTML original
        function copyPixCode() {
            const pixCodeInput = document.getElementById('pixCode');
            pixCodeInput.select();
            document.execCommand('copy');
            const copyBtn = document.getElementById('copyBtn');
            const originalText = copyBtn.textContent;
            copyBtn.textContent = '‚úì Copiado';
            copyBtn.classList.add('copied');
            setTimeout(() => {
                copyBtn.textContent = originalText;
                copyBtn.classList.remove('copied');
            }, 2000);
        }

        function backToForm() {
            window.location.href = 'index.html';
        }

        function goToSuccessScreen() {
            document.getElementById('pixSection').classList.add('hidden');
            document.getElementById('successSection').classList.remove('hidden');
            // Simula√ß√£o de atualiza√ß√£o da barra de progresso
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step2').classList.add('inactive');
            document.getElementById('step3').classList.add('active');
            document.getElementById('line2').classList.add('active');
        }

        // Simula√ß√£o de gera√ß√£o de QR Code
        window.onload = function() {
            const pixCode = document.getElementById('pixCode').value;
            const canvas = document.getElementById('pix-qr-canvas');
            QRCode.toCanvas(canvas, pixCode, { errorCorrectionLevel: 'H', width: 200 }, function (error) {
                if (error) console.error(error);
            });
        };
    </script>
</body>
</html>
