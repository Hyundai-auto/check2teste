<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento PIX - Confirma√ß√£o</title>
    <link rel="stylesheet" href="style.css">
    <!-- √çcones simples para os badges -->
    <style>
        .logo-icon::before { content: "üîí"; }
        .security-badge::before { content: "‚úÖ"; }
        .trust-icon::before { content: "üõ°Ô∏è"; }
        .collapsible-icon::before { content: "‚ñº"; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon"></div>
                <div class="logo-text">
                    <span class="logo-title">Checkout Seguro</span>
                    <span class="logo-subtitle">Transa√ß√£o Criptografada</span>
                </div>
            </div>
            <div class="security-indicators">
                <div class="security-badge">
                    <span>Pagamento Pix</span>
                </div>
            </div>
        </div>
    </div>

    <div class="main-container">
        <!-- Coluna Principal (Pagamento Pix) -->
        <div>
            <!-- Componente Recolh√≠vel (Substitui a barra de progresso) -->
            <div class="collapsible-summary" id="summaryCollapsible">
                <div class="collapsible-header">
                    <div class="collapsible-title">
                        <span class="collapsible-icon"></span>
                        <span>Pagamento - R$ 43,67</span>
                    </div>
                    <span class="collapsible-price">R$ 43,67</span>
                </div>
                <div class="collapsible-content">
                    <div class="summary-item-collapsible">
                        <span class="summary-label-collapsible">Produto/Servi√ßo</span>
                        <span class="summary-value-collapsible">Nome do Produto ou Servi√ßo</span>
                    </div>
                    <div class="summary-item-collapsible">
                        <span class="summary-label-collapsible">Valor Original</span>
                        <span class="summary-value-collapsible">R$ 43,67</span>
                    </div>
                    <div class="summary-item-collapsible">
                        <span class="summary-label-collapsible">Desconto/Taxas</span>
                        <span class="summary-value-collapsible">R$ 0,00</span>
                    </div>
                    <div class="summary-item-collapsible" style="border-bottom: none; padding-top: 10px;">
                        <span class="summary-label-collapsible" style="font-weight: 700;">Total a Pagar</span>
                        <span class="summary-value-collapsible" style="font-weight: 700; color: var(--primary-color);">R$ 43,67</span>
                    </div>
                </div>
            </div>

            <!-- Formul√°rio Principal -->
            <div class="form-container">
                <div class="form-header">
                    <h2 class="form-title">Seu Pix foi Gerado!</h2>
                    <p class="form-subtitle">Escaneie o QR Code ou copie a chave Pix abaixo para finalizar o pagamento.</p>
                </div>

                <div class="form-content">
                    <div class="pix-container-card">
                        <div class="pix-qr">
                            <div id="qrcodeContainer">
                                <canvas id="pix-qr-canvas"></canvas>
                            </div>
                            <div class="summary-total" style="margin-top: 16px; border-top: none; padding-top: 0;">
                                <span class="summary-total-label">Valor a Pagar:</span>
                                <span class="summary-total-value" style="font-size: 24px; color: var(--primary-color);">R$ 43,67</span>
                            </div>
                            <p class="pix-timer-alert">
                                Expira em: <span id="pixTimer" class="timer-display">15:00</span>
                            </p>
                        </div>

                        <div class="pix-key-input-group">
                            <input type="text" class="pix-key-input" id="pixCode" value="00020126580014BR.GOV.BCB.PIX01361234567890123456789012345678901234520400005303986540543.675802BR5925NOME DO RECEBEDOR LTDA6008BRASILIA62070503***6304C74C" readonly>
                            <button type="button" class="btn btn-copy" id="copyBtn" onclick="copyPixCode()">üìã Copiar</button>
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary" id="confirmPaymentBtn" onclick="goToSuccessScreen()">
                        Aguardando Pagamento...
                    </button>
                    <button type="button" class="btn btn-secondary" id="backBtn" onclick="backToForm()">
                        Voltar e Alterar Dados
                    </button>
                </div>
            </div>
        </div>

        <!-- Coluna Lateral (Sidebar) - Vis√≠vel apenas em telas maiores -->
        <div class="sidebar">
            <div class="summary-card">
                <h3 class="summary-title">Resumo do Pedido</h3>
                <div class="summary-item">
                    <span class="summary-label-collapsible">Produto/Servi√ßo</span>
                    <span class="summary-value-collapsible">Nome do Produto ou Servi√ßo</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label-collapsible">Valor</span>
                    <span class="summary-value-collapsible">R$ 43,67</span>
                </div>
                <div class="summary-item" style="border-bottom: none;">
                    <span class="summary-label-collapsible">Taxas</span>
                    <span class="summary-value-collapsible">R$ 0,00</span>
                </div>
                <div class="summary-total">
                    <span class="summary-total-label">Total a Pagar</span>
                    <span class="summary-total-value">R$ 43,67</span>
                </div>
            </div>

            <div class="trust-section">
                <h3 class="trust-title">Aprova√ß√£o e Seguran√ßa</h3>
                <div class="trust-item">
                    <div class="trust-icon"></div>
                    <p class="trust-text">**Aprova√ß√£o Imediata:** Seu acesso ser√° liberado em poucos segundos ap√≥s a confirma√ß√£o.</p>
                </div>
                <div class="trust-item">
                    <div class="trust-icon"></div>
                    <p class="trust-text">**Transa√ß√£o Segura:** O Pix √© um m√©todo de pagamento oficial e regulamentado.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script>
        // Fun√ß√µes de simula√ß√£o
        function copyPixCode() {
            const pixCodeInput = document.getElementById('pixCode');
            pixCodeInput.select();
            document.execCommand('copy');
            const copyBtn = document.getElementById('copyBtn');
            const originalText = copyBtn.textContent;
            copyBtn.textContent = '‚úì Copiado';
            copyBtn.classList.add('copied');
            setTimeout(() => {
                copyBtn.textContent = originalText;
                copyBtn.classList.remove('copied');
            }, 2000);
        }

        function backToForm() {
            window.location.href = 'index.html';
        }

        function goToSuccessScreen() {
            alert("Simula√ß√£o: Pagamento Confirmado! Redirecionando para a tela de sucesso.");
            // Em um cen√°rio real, voc√™ faria o redirecionamento ou mostraria a tela de sucesso aqui.
            // Por simplicidade, vamos apenas voltar para o formul√°rio.
            window.location.href = 'index.html';
        }

        // Simula√ß√£o de gera√ß√£o de QR Code e Timer
        window.onload = function() {
            const pixCode = document.getElementById('pixCode').value;
            const canvas = document.getElementById('pix-qr-canvas');
            QRCode.toCanvas(canvas, pixCode, { errorCorrectionLevel: 'H', width: 200 }, function (error) {
                if (error) console.error(error);
            });

            // Simula√ß√£o de Timer
            let timeLeft = 15 * 60; // 15 minutos em segundos
            const timerDisplay = document.getElementById('pixTimer');

            const timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerDisplay.textContent = "00:00";
                    alert("Tempo de expira√ß√£o do Pix esgotado.");
                }
            }, 1000);
        };

        // Funcionalidade do Collapsible (Recolh√≠vel)
        document.getElementById('summaryCollapsible').addEventListener('click', function() {
            this.classList.toggle('open');
        });
    </script>
</body>
</html>
