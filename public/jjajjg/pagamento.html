<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento PIX - Confirma√ß√£o</title>
    <link rel="stylesheet" href="style.css">
    <!-- √çcones simples para os badges -->
    <style>
        .logo-icon::before { content: "üîí"; }
        .security-badge::before { content: "‚úÖ"; }
        .trust-icon::before { content: "üõ°Ô∏è"; }
        .collapsible-icon::before { content: "‚ñº"; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon"></div>
                <div class="logo-text">
                    <span class="logo-title">Checkout Seguro</span>
                    <span class="logo-subtitle">Transa√ß√£o Criptografada</span>
                </div>
            </div>
            <div class="security-indicators">
                <div class="security-badge">
                    <span>Pagamento Pix</span>
                </div>
            </div>
        </div>
    </div>

    <div class="main-container">
        <!-- Coluna Principal (Pagamento Pix) -->
        <div>
            <!-- Componente Recolh√≠vel (Substitui a barra de progresso) -->
            <div class="collapsible-summary" id="summaryCollapsible">
                <div class="collapsible-header">
                    <div class="collapsible-title">
                        <span class="collapsible-icon"></span>
                        <span>Pagamento - R$ 43,67</span>
                    </div>
                    <span class="collapsible-price">R$ 43,67</span>
                </div>
                <div class="collapsible-content">
                    <div class="summary-item-collapsible">
                        <span class="summary-label-collapsible">Produto/Servi√ßo</span>
                        <span class="summary-value-collapsible">Nome do Produto ou Servi√ßo</span>
                    </div>
                    <div class="summary-item-collapsible">
                        <span class="summary-label-collapsible">Valor Original</span>
                        <span class="summary-value-collapsible">R$ 43,67</span>
                    </div>
                    <div class="summary-item-collapsible">
                        <span class="summary-label-collapsible">Desconto/Taxas</span>
                        <span class="summary-value-collapsible">R$ 0,00</span>
                    </div>
                    <div class="summary-item-collapsible" style="border-bottom: none; padding-top: 10px;">
                        <span class="summary-label-collapsible" style="font-weight: 700;">Total a Pagar</span>
                        <span class="summary-value-collapsible" style="font-weight: 700; color: var(--primary-color);">R$ 43,67</span>
                    </div>
                </div>
            </div>

            <!-- Formul√°rio Principal -->
            <div class="form-container">
                <div class="form-header">
                    <h2 class="form-title">Seu Pix foi Gerado!</h2>
                    <p class="form-subtitle">Escaneie o QR Code ou copie a chave Pix abaixo para finalizar o pagamento.</p>
                </div>

                <div class="form-content">
                    <div class="pix-container-card">
                        <div class="pix-qr">
                            <div id="qrcodeContainer">
                                <img id="pix-qr-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsAQMAAABoYmE7AAAABlBMVEX///8AAABVwtS5AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cKEg8wE81l5/cAAABTSURBVHja7cEBDQAAAMKg909tDwcUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACg+wV+AAG9/wFhAAAAAElFTkSuQmCC" alt="QR Code para C√¢mera" style="width: 200px; height: 200px; display: block; margin: 0 auto;">
                            </div>
                            <div class="summary-total" style="margin-top: 16px; border-top: none; padding-top: 0;">
                                <span class="summary-total-label">Valor a Pagar:</span>
                                <span class="summary-total-value" style="font-size: 24px; color: var(--primary-color);">R$ 43,67</span>
                            </div>
                            <p class="pix-timer-alert">
                                Expira em: <span id="pixTimer" class="timer-display">15:00</span>
                            </p>
                        </div>

                        <div class="pix-key-input-group">
                            <!-- Novo Bloco de Aviso de N√£o Pagamento -->
                            <div class="payment-warning-block">
                                <p class="warning-text">
                                    <span class="warning-icon">‚ö†Ô∏è</span>
                                    <strong>Aten√ß√£o:</strong> O n√£o pagamento deste d√©bito no prazo estipulado acarretar√° em medidas legais, incluindo o <strong>bloqueio do CNPJ</strong> e a <strong>negativa√ß√£o do CPF do titular</strong> junto aos √≥rg√£os de prote√ß√£o ao cr√©dito.
                                </p>
                            </div>
                            <input type="text" class="pix-key-input" id="pixCode" value="" readonly>
                            <button type="button" class="btn btn-copy" id="copyBtn" onclick="copyPixCode()">üìã Copiar</button>
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary" id="confirmPaymentBtn" onclick="goToSuccessScreen()">
                        Aguardando Pagamento...
                    </button>
                    <button type="button" class="btn btn-secondary" id="backBtn" onclick="backToForm()">
                        Voltar e Alterar Dados
                    </button>
                </div>
            </div>
        </div>

        <!-- Coluna Lateral (Sidebar) - Vis√≠vel apenas em telas maiores -->
        <div class="sidebar">
            <div class="summary-card">
                <h3 class="summary-title">Resumo do Pedido</h3>
                <div class="summary-item">
                    <span class="summary-label-collapsible">Produto/Servi√ßo</span>
                    <span class="summary-value-collapsible">Nome do Produto ou Servi√ßo</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label-collapsible">Valor</span>
                    <span class="summary-value-collapsible">R$ 43,67</span>
                </div>
                <div class="summary-item" style="border-bottom: none;">
                    <span class="summary-label-collapsible">Taxas</span>
                    <span class="summary-value-collapsible">R$ 0,00</span>
                </div>
                <div class="summary-total">
                    <span class="summary-total-label">Total a Pagar</span>
                    <span class="summary-total-value">R$ 43,67</span>
                </div>
            </div>

            <div class="trust-section">
                <h3 class="trust-title">Aprova√ß√£o e Seguran√ßa</h3>
                <div class="trust-item">
                    <div class="trust-icon"></div>
                    <p class="trust-text">**Aprova√ß√£o Imediata:** Seu acesso ser√° liberado em poucos segundos ap√≥s a confirma√ß√£o.</p>
                </div>
                <div class="trust-item">
                    <div class="trust-icon"></div>
                    <p class="trust-text">**Transa√ß√£o Segura:** O Pix √© um m√©todo de pagamento oficial e regulamentado.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    
    <script src="pagamento.js"></script>
    <script>
        // Fun√ß√µes de simula√ß√£o
        // A fun√ß√£o de gera√ß√£o de QR Code foi removida, pois o QR Code para C√¢mera
        // deve ser gerado no backend e a URL/imagem deve ser injetada no HTML.
        // A imagem placeholder foi inserida diretamente no HTML.
        function copyPixCode() {
            // Simula√ß√£o de QR Code para C√¢mera (substituindo o canvas)
            const qrImage = document.getElementById('pix-qr-image');
            // Aqui voc√™ deve substituir o src pela imagem real do QR Code para C√¢mera
            // Por exemplo: qrImage.src = 'URL_DO_QR_CODE_PARA_CAMERA';
            // O valor base64 atual √© apenas um placeholder de imagem transparente.


            const pixCodeInput = document.getElementById('pixCode');
            pixCodeInput.select();
            document.execCommand('copy');
            const copyBtn = document.getElementById('copyBtn');
            const originalText = copyBtn.textContent;
            copyBtn.textContent = '‚úì Copiado';
            copyBtn.classList.add('copied');
            setTimeout(() => {
                copyBtn.textContent = originalText;
                copyBtn.classList.remove('copied');
            }, 2000);
        }

        function backToForm() {
            window.location.href = 'index.html';
        }

        function goToSuccessScreen() {
            alert("Simula√ß√£o: Pagamento Confirmado! Redirecionando para a tela de sucesso.");
            // Em um cen√°rio real, voc√™ faria o redirecionamento ou mostraria a tela de sucesso aqui.
            // Por simplicidade, vamos apenas voltar para o formul√°rio.
            window.location.href = 'index.html';
        }

        // Funcionalidade do Collapsible (Recolh√≠vel)
        document.getElementById('summaryCollapsible').addEventListener('click', function() {
            this.classList.toggle('open');
        });
    </script>
</body>
</html>
